<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <title>Tabela</title>
    <style>
        table {
            border-collapse: collapse;
        }

        tr, td {
            height: 32px;
            width: 32px;
            background-color: silver;
            border: 1px solid gray;
            margin: 0px;
            padding: 0px;
        }
        td .izbranaSlika {
            border: 3px solid red;
        }

        img {
            display: block;
        }
        
    </style>
    <script>
        function izberiSliko (kliknjen) {
            console.log("izbrana slika");
            var izberiEno = document.getElementsByClassName("izbranaSlika");
            for(var i = 0; i<izberiEno.length; i++) {
                izberiEno[i].classList.remove ("izbranaSlika");
            }
            if(kliknjen.classList.contains("izbranaSlika")) {
                kliknjen.classList.remove("izbranaSlika");
            }
            else {kliknjen.classList.add("izbranaSlika");
            }
        }

        function izberiPolje (kliknjen) {
            console.log("izbrano polje");
            var izberiEno = document.getElementsByClassName("izbranoPolje");
            for(var i = 0; i<izberiEno.length; i++) {
                izberiEno[i].classList.remove ("izbranoPolje");
            }
            if(kliknjen.classList.contains("izbranoPolje")) {
                kliknjen.classList.remove("izbranoPolje");
            }
            else {kliknjen.classList.add("izbranoPolje");
            }
            prilepiSliko();
        }

        function prilepiSliko (izbranoPolje) {
            console.log("prilepi");
            var izbranoPolje = document.getElementsByClassName("izbranoPolje");
            var izbranaSlika = document.getElementsByClassName("izbranaSlika");
            var slika_pot = izbranaSlika[0].getAttribute("src");
            izbranoPolje[0].innerHTML = "<img src='"+ slika_pot +"' />";
            console.log(izbranoPolje);
            console.log(izbranaSlika);
        }

    </script>
</head>

<body>
    <script>
        var stevilo_vrstic = window.prompt("Vnesi število vrstic (med 5 in 20): ");
        while (isNaN(stevilo_vrstic) || 5 > stevilo_vrstic || stevilo_vrstic > 20) {
            var stevilo_vrstic = window.prompt("Vnesi število vrstic (med 5 in 20): ");
        }
    
        var stevilo_stolpcev = window.prompt("Vnesi število stolpcev  (med 10 in 40): ");
        while (isNaN(stevilo_stolpcev) || 10 > stevilo_stolpcev || stevilo_stolpcev > 40) {
            var stevilo_stolpcev = window.prompt("Vnesi število stolpcev  (med 10 in 40): ");
        }

        const slike = ["sprite1.gif","sprite2.gif","sprite3.gif","sprite4.gif","sprite5.gif","sprite6.gif","sprite7.gif","sprite8.gif","sprite9.gif","sprite10.gif","sprite11.gif","sprite12.gif","sprite13.gif","sprite14.gif","sprite15.gif","sprite16.gif"];
        document.write("<table>");
            document.write("<tr>");
                for(var i=0; i<16; i++) {
                    document.write ("<td>");
                        document.write ('<img onclick="izberiSliko(this);" src="images/' + slike[i] + '" alt="' + slike[i] + '">');
                    document.write ("</td>");
                }
            document.write("</tr>");
        document.write("</table>");

        document.write("<br>");

        document.write("<table>");
                for(var i=0; i<stevilo_vrstic; i++) {
                    document.write("<tr>");
                        for(var j=0; j<stevilo_stolpcev; j++) {
                            document.write("<td onclick='izberiPolje(this)'>");
                            document.write ("</td>");
                        }
                    document.write("</tr>");
                }
        document.write("</table>");
    </script>
</body>
</html>